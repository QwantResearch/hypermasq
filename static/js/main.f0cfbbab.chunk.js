(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t){},118:function(e,t){},141:function(e,t){},17:function(e,t){e.exports={get:function(e,t){return new Promise(function(a,n){e.get(t,function(e,t){return e?n(e):a(t)})})},batch:function(e,t){return new Promise(function(a,n){e.batch(t,function(e){return e?n(e):a()})})},put:function(e,t,a){return new Promise(function(n,r){e.put(t,a,function(e){return e?r(e):n()})})}}},187:function(e,t){},19:function(e,t,a){e.exports={Signup:"Signup_Signup__2YyBN",title:"Signup_title__iRIvM",user:"Signup_user__1BFZq",buttons:"Signup_buttons__2IjiQ",TextField:"Signup_TextField__33SKF"}},191:function(e,t,a){},193:function(e,t,a){},20:function(e,t,a){e.exports={header:"Sidebar_header__K-cJy",nav:"Sidebar_nav__3f7iE",navElement:"Sidebar_navElement__3kiOF",active:"Sidebar_active__2gOBr",logout:"Sidebar_logout__3KfCS"}},204:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(88),i=a(25),s=a(89),o=a(12);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(23),l=a(24),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[],apps:[],devices:[],currentUser:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return Object(l.a)({},e,{users:Object(u.a)(e.users).concat([t.user])});case"SIGNIN":return Object(l.a)({},e,{currentUser:t.user});case"SIGNOUT":return Object(l.a)({},e,{currentUser:null});case"RECEIVE_USERS":return Object(l.a)({},e,{users:t.users});case"RECEIVE_APPS":return Object(l.a)({},e,{apps:t.apps});case"SET_CURRENT_APP_REQUEST":return Object(l.a)({},e,{currentAppRequest:t.app});case"ADD_APP":return Object(l.a)({},e,{apps:Object(u.a)(e.apps).concat([t.app])});case"ADD_DEVICE":return Object(l.a)({},e,{devices:Object(u.a)(e.devices).concat([t.device])});default:return e}},h=Object(i.c)({masq:p}),f=a(3),d=a.n(f),m=a(13),v=a(10),g=a(11),b=a(15),E=a(14),y=a(16),O=a(2),w=a(213),_=a(210),j=new(a(60).a);j.init();var k=function(e){return{type:"SIGNIN",user:e}},C=function(e){return function(t){return j.getApps(e).then(function(e){return t(function(e){return{type:"RECEIVE_APPS",apps:e}}(e))})}},x=function(e,t,a,n){return function(r){return j.createApp(e,t,a,n).then(function(){return r(C(n))})}},S=a(212),N=a(27),A=a.n(N);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var z=r.a.createElement("g",{fill:"#FFF",fillRule:"nonzero"},r.a.createElement("g",{fillOpacity:.5},r.a.createElement("path",{d:"M78.899 29.426l-.056-.487c0-.046-.045-.08-.09-.08h-.023c-.01 0-.01.012-.022.012a1.103 1.103 0 0 1-.393.068c-.158 0-.27-.046-.338-.125-.067-.09-.1-.227-.1-.43v-1.066h.808a.077.077 0 0 0 .079-.08v-.476c0-.045-.045-.08-.09-.08h-.809V25.993c0-.046-.045-.08-.09-.08h-.607c-.045 0-.078.034-.09.08v.69h-.472a.089.089 0 0 0-.09.092v.476c0 .045.034.079.068.09h.483v1.202c0 .374.09.657.259.839.168.181.438.272.786.272.146 0 .292-.012.427-.046.101-.022.203-.056.27-.09.067-.023.09-.046.09-.091 0 .011 0 .011 0 0zM65.155 28.769c-.01-.023-.022-.046-.033-.068-.012-.057.033-.114.067-.16.034-.045.056-.101.09-.158.056-.102.101-.215.135-.329.078-.238.1-.487.1-.736a2.605 2.605 0 0 0-.145-.782 1.98 1.98 0 0 0-.382-.624 2.048 2.048 0 0 0-.506-.43 1.98 1.98 0 0 0-.663-.261c-.247-.057-.506-.068-.753-.057-.258.023-.506.08-.742.193-.236.102-.449.249-.629.43a2.44 2.44 0 0 0-.45.624c-.112.238-.18.487-.202.748-.022.26-.01.521.045.77.057.25.158.488.293.704.134.215.303.396.494.544.191.147.416.26.64.34.124.045.259.068.394.09.123.023.247.034.37.023.124 0 .237-.011.36-.034.068-.011.135-.023.191-.034.056-.011.113-.023.135-.08.023-.045-.011-.09-.034-.135-.022-.057-.056-.102-.078-.16-.045-.101-.101-.192-.146-.294a.115.115 0 0 0-.068-.056c-.022-.012-.056 0-.078 0-.034.01-.068.01-.102.01-.134.024-.27.024-.404 0a1.466 1.466 0 0 1-.697-.294 1.557 1.557 0 0 1-.46-.59 1.563 1.563 0 0 1-.113-.747c.034-.25.124-.5.27-.703a1.5 1.5 0 0 1 .562-.465 1.441 1.441 0 0 1 1.404.09c.18.114.326.273.45.454a1.528 1.528 0 0 1 .112 1.383 1.57 1.57 0 0 1-.37.521c-.023.023-.046.035-.057.069a.098.098 0 0 0 0 .079l.416.839c.022.045.045.102.09.136.034.022.067.011.101.011h.64c.08 0 .135-.08.09-.159-.044-.079-.078-.158-.123-.226l-.214-.476zM68.931 28.644l.506-1.916a.085.085 0 0 1 .079-.056h.618c.045 0 .09.034.09.09v.023l-.9 2.709c-.01.034-.044.045-.078.045h-.585a.085.085 0 0 1-.078-.056l-.63-1.848-.606 1.848a.094.094 0 0 1-.079.045h-.573a.085.085 0 0 1-.079-.057l-.899-2.731c0-.046.034-.091.09-.091h.64c.034 0 .057.023.068.045l.506 1.927.584-1.915a.085.085 0 0 1 .079-.057h.528c.034 0 .067.023.079.045l.64 1.95zM72.471 27.034a.93.93 0 0 0-.382-.34 1.17 1.17 0 0 0-.528-.124c-.259 0-.495.068-.708.215-.214.136-.371.329-.483.555a1.724 1.724 0 0 0-.169.771v.057c.011.272.067.521.169.737.112.226.27.408.472.532.202.125.427.182.674.182.18 0 .337-.023.472-.08 0 0 .303-.102.472-.374l.011.295c.011.045.045.08.09.08h.573c.045 0 .09-.035.09-.091V26.75a.089.089 0 0 0-.09-.09h-.573a.098.098 0 0 0-.09.067v.306zm-.169.499c.135.147.191.34.191.578 0 .25-.067.442-.213.6a.694.694 0 0 1-.54.228.7.7 0 0 1-.539-.227.844.844 0 0 1-.213-.533s-.045-.374.213-.657c.135-.159.326-.227.55-.227-.01-.023.327-.045.551.238zM74.483 26.74c-.012-.046-.045-.08-.09-.08h-.585a.089.089 0 0 0-.09.09v2.699c0 .045.034.09.09.09h.607a.085.085 0 0 0 .079-.056v-1.485c0-.227.056-.408.157-.533a.535.535 0 0 1 .438-.193c.337 0 .506.227.506.67v1.54a.085.085 0 0 0 .079.057h.607c.044 0 .09-.034.09-.09v-1.655c0-.397-.09-.703-.27-.907-.18-.204-.439-.317-.776-.317-.202 0-.37.034-.517.113a.973.973 0 0 0-.348.329l.023-.272z"})),r.a.createElement("path",{d:"M21.497 8.887C20.587 7.833 19.25 7.3 17.52 7.3c-1.011 0-1.944.238-2.787.725-.854.476-1.472 1.122-1.876 1.905-.854-1.757-2.349-2.63-4.462-2.63-1.01 0-1.899.193-2.652.578a4.317 4.317 0 0 0-1.786 1.7l-.023-1.235a.574.574 0 0 0-.55-.578H.663a.578.578 0 0 0-.573.578v13.534c0 .317.258.578.573.578h2.82c.315 0 .574-.26.574-.578v-7.368c0-1.134.258-2.029.753-2.686.505-.658 1.202-.987 2.101-.987.9 0 1.55.284 1.955.84.405.555.618 1.427.618 2.595v7.594c0 .318.259.579.574.579h2.831c.315 0 .562-.25.574-.556v-7.356c0-1.157.247-2.063.753-2.71.505-.657 1.202-.986 2.078-.986.877 0 1.529.284 1.945.84.415.555.629 1.427.629 2.595v7.628c.022.307.27.545.573.545h2.832c.314 0 .573-.261.573-.579v-8.342c.022-2.03-.438-3.582-1.349-4.636zM39.938 7.753H37.23a.566.566 0 0 0-.55.578l-.046 1.327a4.816 4.816 0 0 0-1.932-1.746c-.81-.42-1.72-.624-2.709-.624-1.337 0-2.54.363-3.607 1.077a7.22 7.22 0 0 0-2.472 2.857c-.585 1.19-.877 2.493-.877 3.91 0 1.542.292 2.902.888 4.081.596 1.179 1.393 2.097 2.416 2.732 1.023.635 2.169.952 3.45.952 1.09 0 2.045-.193 2.866-.59a4.769 4.769 0 0 0 1.977-1.745l.045 1.292c0 .317.259.578.573.578h2.675c.315 0 .573-.26.573-.578V8.331a.583.583 0 0 0-.562-.578zm-4.281 10.395c-.73.793-1.652 1.19-2.776 1.19-1.124 0-2.056-.397-2.776-1.19-.73-.794-1.09-1.814-1.09-3.061 0-1.235.36-2.244 1.068-3.038.72-.793 1.64-1.179 2.787-1.179 1.146 0 2.079.397 2.787 1.18.719.793 1.067 1.802 1.067 3.037.023 1.258-.337 2.278-1.067 3.06zM48.153 22.92a12.28 12.28 0 0 1-3.147-.386c-.797-.204-1.45-.476-1.955-.782a.633.633 0 0 1-.28-.623l.291-1.95a.63.63 0 0 1 .91-.465c.461.238.956.442 1.506.612a8.379 8.379 0 0 0 2.506.408c1.619 0 2.439-.419 2.439-1.246 0-.442-.169-.783-.517-1.01-.348-.226-1.056-.498-2.146-.804-1.72-.476-2.945-1.088-3.675-1.836-.73-.737-1.101-1.735-1.101-2.993 0-1.405.528-2.516 1.573-3.321 1.045-.805 2.495-1.213 4.326-1.213.9 0 1.798.102 2.686.318.697.17 1.304.374 1.798.612a.617.617 0 0 1 .337.657l-.27 1.87a.623.623 0 0 1-.865.488 8.393 8.393 0 0 0-1.303-.442 8.726 8.726 0 0 0-2.214-.306c-1.394 0-2.09.374-2.09 1.122 0 .42.168.76.505.997.338.238 1 .51 1.99.794 1.831.544 3.124 1.179 3.876 1.904.753.737 1.135 1.746 1.135 3.027 0 1.428-.561 2.539-1.674 3.355-1.135.805-2.675 1.213-4.641 1.213zM56.289 27.828a.826.826 0 0 1 .652-.318c.157 0 .292.034.438.114.18.102.326.25.404.43.068.16.113.318.113.5 0 .34-.113.6-.326.804a.895.895 0 0 1-.64.25.775.775 0 0 1-.641-.318v.102a.328.328 0 0 1-.023.136c-.022.023-.056.023-.134.023h-.236c-.068 0-.113-.012-.124-.023-.022-.023-.022-.057-.022-.136v-3.095c0-.068.01-.113.022-.136.022-.022.056-.022.124-.022h.236a.32.32 0 0 1 .134.022c.023.023.023.057.023.136v1.53zm.483.181a.533.533 0 0 0-.382.159.516.516 0 0 0-.157.385.542.542 0 0 0 .54.544c.145 0 .28-.056.381-.158a.524.524 0 0 0 .158-.397.562.562 0 0 0-.158-.386.506.506 0 0 0-.382-.147zM58.862 29.245l-.809-1.474a.562.562 0 0 1-.045-.102c0-.034.011-.057.034-.068a.298.298 0 0 1 .124-.023h.292c.056 0 .1 0 .112.012a.423.423 0 0 1 .068.09l.528 1.02.505-1.008c.023-.057.045-.091.057-.091.01-.011.056-.011.112-.011h.28c.057 0 .09 0 .113.011.034.011.045.045.045.08 0 .022-.011.056-.045.101l-1.416 2.732c-.022.057-.045.08-.067.09-.011.012-.056.012-.112.012h-.281c-.057 0-.09 0-.113-.011-.033-.012-.045-.046-.045-.08 0-.022.012-.056.045-.102l.618-1.178z"}),r.a.createElement("path",{fillOpacity:.5,d:"M76.944 18.533c-.057-.113-.135-.227-.158-.351-.056-.295.191-.556.337-.794a11.732 11.732 0 0 0 1.135-2.494 11.92 11.92 0 0 0 .517-3.774c-.033-1.372-.28-2.743-.775-4.013A11.333 11.333 0 0 0 76.067 3.9a10.682 10.682 0 0 0-2.618-2.21 11.403 11.403 0 0 0-3.383-1.36A13.01 13.01 0 0 0 66.2.068c-1.314.102-2.618.42-3.82.963a11.504 11.504 0 0 0-3.237 2.21 11.196 11.196 0 0 0-2.292 3.209 11.64 11.64 0 0 0-1.057 3.831 12.794 12.794 0 0 0 .236 3.979c.281 1.27.787 2.493 1.484 3.593a10.734 10.734 0 0 0 2.55 2.788c.99.76 2.113 1.338 3.293 1.723.652.216 1.315.363 1.99.465.629.09 1.292.147 1.932.125a17.049 17.049 0 0 0 1.854-.16c.338-.056.675-.112 1-.203.282-.068.585-.125.697-.43.09-.25-.033-.454-.146-.67l-.404-.816-.742-1.496a.559.559 0 0 0-.326-.295c-.146-.045-.27-.011-.416.023a6.394 6.394 0 0 1-.494.09 7.722 7.722 0 0 1-2.045.012 7.49 7.49 0 0 1-3.551-1.485 7.525 7.525 0 0 1-2.338-3.026 7.554 7.554 0 0 1-.55-3.854 7.473 7.473 0 0 1 1.393-3.57 7.441 7.441 0 0 1 2.854-2.37 7.41 7.41 0 0 1 3.855-.691 7.407 7.407 0 0 1 3.36 1.156 7.647 7.647 0 0 1 2.281 2.3 7.725 7.725 0 0 1 1.169 3.64 7.514 7.514 0 0 1-.596 3.4 7.55 7.55 0 0 1-1.921 2.675c-.113.102-.236.193-.281.351a.54.54 0 0 0 .022.397l2.146 4.274c.113.215.214.544.439.68.157.09.36.068.528.068h3.281c.394-.012.674-.431.483-.794-.202-.397-.415-.793-.618-1.179l-1.27-2.448z"})),P=function(e){return r.a.createElement("svg",U({width:79,height:31,viewBox:"0 0 79 31"},e),z)};a.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var R=r.a.createElement("path",{d:"M10.2 41.8c2 3.5 4.2 6.9 6.6 10.1H0v-3.5c3.3-2.3 6.7-4.5 10.2-6.6zM206.1 40.5c-4.6 3.4-8.8 7.2-12.6 11.4h-22.3c5.1-6.9 9.3-14.5 12.5-22.6 7.7 3.3 15.2 7 22.4 11.2z",fill:"#3394D2"}),M=r.a.createElement("path",{d:"M183.7 29.3c-3.2 8.1-7.4 15.7-12.5 22.6H16.7c-2.4-3.2-4.6-6.6-6.6-10.1C36.5 26 66.8 16.3 99.4 14.6a163.613 163.613 0 0 1 19.8 0c22.7 1.2 44.5 6.3 64.5 14.7z",fill:"#4ebbc2"}),V=r.a.createElement("path",{d:"M206.1 40.5c13-9.6 28.8-15.6 45.9-16.4v27.8h-28.6c-.3-.3-.7-.5-1-.8-.3-.2-.6-.5-.9-.7-.1 0-.1-.1-.2-.1-.3-.2-.6-.5-1-.7l-.9-.6c-.1-.1-.2-.2-.3-.2-.2-.2-.5-.3-.7-.5l-.9-.6c-.2-.1-.4-.3-.6-.4-.2-.2-.5-.3-.7-.5l-.9-.6-.9-.6s-.1-.1-.2-.1c-.4-.2-.7-.5-1.1-.7-.4-.2-.8-.5-1.1-.7s-.8-.5-1.2-.7c-.3-.2-.5-.3-.8-.5-1.4-.9-2.6-1.6-3.9-2.4z",fill:"#e53b5b"}),I=r.a.createElement("path",{d:"M223.4 51.9h-29.9c3.8-4.2 8-8 12.6-11.4 1.3.8 2.6 1.5 3.8 2.3.3.2.5.3.8.5.4.2.8.5 1.2.7s.8.5 1.1.7c.4.2.7.5 1.1.7.1 0 .1.1.2.1l.9.6.9.6c.3.2.5.3.7.5.2.1.4.3.6.4l.9.6c.2.2.5.3.7.5.1.1.2.2.3.2l.9.6c.3.2.7.5 1 .7.1 0 .1.1.2.1.3.2.6.5.9.7.4.4.7.6 1.1.9z",fill:"#6f559f"}),q=function(e){return r.a.createElement("svg",D({id:"Calque_1",preserveAspectRatio:"none",viewBox:"0 0 252 52"},e),R,M,V,I)};a.p;function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var T=r.a.createElement("defs",null,r.a.createElement("rect",{id:"a",width:120,height:120,rx:10}),r.a.createElement("path",{id:"b",d:"M78.667 60c0 1.4-.934 2.333-2.334 2.333h-14v14c0 1.4-.933 2.334-2.333 2.334-1.4 0-2.333-.934-2.333-2.334v-14h-14c-1.4 0-2.334-.933-2.334-2.333 0-1.4.934-2.333 2.334-2.333h14v-14c0-1.4.933-2.334 2.333-2.334 1.4 0 2.333.934 2.333 2.334v14h14c1.4 0 2.334.933 2.334 2.333z"})),B=r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("g",{opacity:.5},r.a.createElement("use",{fill:"#1F2330",xlinkHref:"#a"}),r.a.createElement("rect",{width:118,height:118,x:1,y:1,stroke:"#FFF",strokeWidth:2,rx:10})),r.a.createElement("use",{fill:"#FFF",fillRule:"nonzero",opacity:.5,xlinkHref:"#b"})),L=function(e){return r.a.createElement("svg",F({xmlnsXlink:"http://www.w3.org/1999/xlink",width:120,height:120,viewBox:"0 0 120 120"},e),T,B)},K=(a.p,a(5));function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var G=r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("rect",{height:118,opacity:.5,rx:10,stroke:"#999",strokeWidth:2,width:118,x:1,y:1}),r.a.createElement("path",{d:"m77.2 46.6h-6.5333333l-3.1733334-4.8533333c-.3733333-.3733334-.9333333-.7466667-1.4933333-.7466667h-11.2c-.56 0-1.12.3733333-1.4933333.7466667l-3.1733334 4.8533333h-6.5333333c-3.1733333 0-5.6 2.4266667-5.6 5.6v20.5333333c0 3.1733334 2.4266667 5.6 5.6 5.6h33.6c3.1733333 0 5.6-2.4266666 5.6-5.6v-20.5333333c0-3.1733333-2.4266667-5.6-5.6-5.6zm1.8666667 26.1333333c0 1.12-.7466667 1.8666667-1.8666667 1.8666667h-33.6c-1.12 0-1.8666667-.7466667-1.8666667-1.8666667v-20.5333333c0-1.12.7466667-1.8666667 1.8666667-1.8666667h7.4666667c.56 0 1.12-.3733333 1.4933333-.7466666l3.1733333-4.8533334h9.1466667l3.1733333 4.8533334c.56.3733333 1.12.7466666 1.68.7466666h7.4666667c1.12 0 1.8666667.7466667 1.8666667 1.8666667zm-18.6666667-20.5333333c-5.2266667 0-9.3333333 4.1066667-9.3333333 9.3333333 0 5.2266667 4.1066666 9.3333334 9.3333333 9.3333334s9.3333333-4.1066667 9.3333333-9.3333334c0-5.2266666-4.1066666-9.3333333-9.3333333-9.3333333zm0 14.9333333c-3.1733333 0-5.6-2.4266666-5.6-5.6 0-3.1733333 2.4266667-5.6 5.6-5.6s5.6 2.4266667 5.6 5.6c0 3.1733334-2.4266667 5.6-5.6 5.6z",fill:"#ccc",fillRule:"nonzero"})),J=function(e){return r.a.createElement("svg",H({height:120,viewBox:"0 0 120 120",width:120},e),G)},W=(a.p,a(191),function(e){var t=e.size,a=e.image,n=e.onClick;return r.a.createElement(K.Avatar,{upload:!0,src:a,width:t,height:t,onClick:n})}),Q=function(e){var t=e.style,a=e.onClick;return r.a.createElement(J,{className:"Avatar upload",color:"var(--grey-200)",style:t,onClick:a})},X=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).openDialog=a.openDialog.bind(Object(O.a)(Object(O.a)(a))),a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"openDialog",value:function(){this.refs.fileDialog.click()}},{key:"render",value:function(){var e=this.props,t=e.size,a=e.image,n=e.firstname,c=e.lastname,i=e.upload,s=e.onChange,o={backgroundImage:"url("+a+")"};return i?r.a.createElement("div",null,r.a.createElement("input",{name:"avatar",type:"file",ref:"fileDialog",style:{display:"none"},onChange:s,accept:".jpg, .jpeg, .png"}),a?r.a.createElement(W,{size:t,image:a,onClick:this.openDialog}):r.a.createElement(Q,{style:o,onClick:this.openDialog})):a?r.a.createElement(K.Avatar,{src:a,width:t,height:t}):r.a.createElement("div",{className:"Avatar initials",style:{backgroundColor:"#458bf8",position:"relative",width:t,height:t}},r.a.createElement("p",null,n[0].toUpperCase()+c[0].toUpperCase()))}}]),t}(r.a.Component);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}X.defaultProps={size:120};var Z=r.a.createElement("defs",null,r.a.createElement("path",{id:"close-svg",d:"M13.7 12.3c.4.4.4 1 0 1.4-.2.2-.4.3-.7.3-.3 0-.5-.1-.7-.3L7 8.4l-5.3 5.3c-.2.2-.4.3-.7.3-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4L5.6 7 .3 1.7C-.1 1.3-.1.7.3.3c.4-.4 1-.4 1.4 0L7 5.6 12.3.3c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L8.4 7l5.3 5.3z"})),$=r.a.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#close-svg"}),ee=function(e){return r.a.createElement("svg",Y({width:14,height:14,viewBox:"0 0 14 14"},e),Z,$)};a.p,a(193);function te(e){var t=e.onClose,a=e.width,n=e.height,c=e.children,i={height:n,width:a};return r.a.createElement("div",{className:"Modal"},r.a.createElement("div",{className:"overlay",onClick:t}),r.a.createElement("div",{className:"modal",style:i},t&&r.a.createElement(ee,{className:"close",width:9,height:9,onClick:t}),c))}var ae=a(33),ne=a(19),re=a.n(ne),ce=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={image:"",lastname:"",firstname:"",username:"",password:"",passwordConfirmation:""},a.currentStep=0,a.validationEnabled=!1,a.refAvatar=r.a.createRef(),a.next=a.next.bind(Object(O.a)(Object(O.a)(a))),a.finish=a.finish.bind(Object(O.a)(Object(O.a)(a))),a.isValid=a.isValid.bind(Object(O.a)(Object(O.a)(a))),a.previous=a.previous.bind(Object(O.a)(Object(O.a)(a))),a.openDialog=a.openDialog.bind(Object(O.a)(Object(O.a)(a))),a.handleKeyUp=a.handleKeyUp.bind(Object(O.a)(Object(O.a)(a))),a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"isValid",value:function(e){return!this.validationEnabled||("image"===e||("password"===e?this.state[e].length>=8:"passwordConfirmation"===e?this.state[e]===this.state.password:this.state[e].length>0))}},{key:"onChange",value:function(e,t){var a=t.target.value.trim();this.setState(Object(ae.a)({},e,a))}},{key:"onImageChange",value:function(e){var t=this,a=new window.FileReader,n=e.target.files[0];n&&(a.addEventListener("load",function(){t.setState({image:a.result})}),a.readAsDataURL(n))}},{key:"openDialog",value:function(){this.refAvatar.current.openDialog()}},{key:"next",value:function(){var e=this;if(this.validationEnabled=!0,!["lastname","firstname","username"].every(function(t){return e.isValid(t)}))return this.forceUpdate();this.validationEnabled=!1,this.currentStep++,this.forceUpdate()}},{key:"previous",value:function(){this.currentStep--,this.forceUpdate()}},{key:"finish",value:function(){var e=this.props.onSignup;if(this.validationEnabled=!0,!this.isValid("password"))return this.forceUpdate();e(this.state)}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&(0===this.currentStep?this.next():this.finish())}},{key:"render",value:function(){var e=this;return r.a.createElement(te,{onClose:this.props.onClose,height:670,width:511},r.a.createElement("div",{className:re.a.Signup},r.a.createElement("span",{className:re.a.title},"Ajouter un nouvel utilisateur"),0===this.currentStep&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{size:120,upload:!0,ref:this.refAvatar,onChange:function(t){return e.onImageChange(t)},image:this.state.image||null}),r.a.createElement("div",{style:{paddingTop:24}}),r.a.createElement(K.Button,{secondary:!0,label:"Importer une photo",onClick:this.openDialog}),r.a.createElement("div",{style:{paddingBottom:32}}),r.a.createElement(K.TextField,{className:re.a.TextField,defaultValue:this.state.lastname,label:"Nom",error:!this.isValid("lastname"),onChange:function(t){return e.onChange("lastname",t)}}),r.a.createElement(K.TextField,{className:re.a.TextField,defaultValue:this.state.firstname,label:"Pr\xe9nom",error:!this.isValid("firstname"),onChange:function(t){return e.onChange("firstname",t)}}),r.a.createElement(K.TextField,{className:re.a.TextField,defaultValue:this.state.username,label:"Pseudo (affich\xe9)",error:!this.isValid("username"),onChange:function(t){return e.onChange("username",t)},onKeyUp:this.handleKeyUp}),r.a.createElement("div",{className:re.a.buttons},r.a.createElement(K.Button,{label:"Suivant",onClick:this.next,width:185}))),1===this.currentStep&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{size:120,image:this.state.image,firstname:this.state.firstname,lastname:this.state.lastname}),r.a.createElement("p",{className:re.a.user},this.state.username),r.a.createElement(K.TextField,{className:re.a.TextField,autoFocus:!0,type:"password",label:this.isValid("password")?"Mot de passe":"Le mot de passe doit \xeatre compos\xe9 d'au moins 8 caract\xe8res.",error:!this.isValid("password"),onChange:function(t){return e.onChange("password",t)}}),r.a.createElement(K.TextField,{className:re.a.TextField,type:"password",label:this.isValid("passwordConfirmation")?"Mot de passe (confirmation)":"Les mots de passe ne correspondent pas.",error:!this.isValid("passwordConfirmation"),onKeyUp:this.handleKeyUp,onChange:function(t){return e.onChange("passwordConfirmation",t)}}),r.a.createElement("div",{className:re.a.buttons},r.a.createElement(K.Button,{label:"Pr\xe9c\xe9dent",onClick:this.previous,width:185}),r.a.createElement(K.Button,{label:"Terminer",onClick:this.finish,width:185})))))}}]),t}(r.a.Component),ie=a(29),se=a.n(ie),oe=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).handleAccept=a.handleAccept.bind(Object(O.a)(Object(O.a)(a))),a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.app;this.props.setCurrentAppRequest({name:e})}},{key:"handleAccept",value:function(){var e=this.props.match.params.channel;this.props.createApp(this.props.match.params.app,e)}},{key:"render",value:function(){var e=this.props.app;return r.a.createElement(te,{width:511},r.a.createElement("div",{className:se.a.AuthApp},r.a.createElement("p",{className:se.a.title},"New connection request from"),r.a.createElement("p",{className:se.a.appTitle},e.name),r.a.createElement("p",{className:se.a.description},"This notification appears because that application asks permission to use your Masq storage. Please verify that the security code match with the one of the app."),r.a.createElement("p",{className:se.a.description},"If you are not at the origin of this request or if you have question, please contact our help center."),r.a.createElement("div",{className:se.a.buttons},r.a.createElement(K.Button,{label:"Reject",color:"var(--red-100)",colorShadow:"var(--red-100-shadow)"}),r.a.createElement(K.Button,{label:"Accept",onClick:this.handleAccept,color:"var(--green-100)",colorShadow:"var(--green-100-shadow)"}))))}}]),t}(r.a.Component);oe.defaultProps={app:{name:"app test"}};Object(o.b)(function(e){return{currentUser:e.masq.currentUser,app:e.masq.currentAppRequest}},function(e){return{createApp:function(t,a,n){return e(x(t,a,n))},setCurrentAppRequest:function(t){return e(function(e){return{type:"SET_CURRENT_APP_REQUEST",app:e}}(t))}}})(oe);var ue=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={isSignupModalOpened:!1,isLoggedIn:!1},a.handleSignup=a.handleSignup.bind(Object(O.a)(Object(O.a)(a))),a.handleClickNewUser=a.handleClickNewUser.bind(Object(O.a)(Object(O.a)(a))),a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"handleClickNewUser",value:function(){this.setState({isSignupModalOpened:!this.state.isSignupModalOpened})}},{key:"handleClose",value:function(){this.setState({isSignupModalOpened:!1})}},{key:"handleSignIn",value:function(e){this.props.signin(e),this.setState({isLoggedIn:!0})}},{key:"handleSignup",value:function(e){(0,this.props.signup)(e),this.setState({isSignupModalOpened:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.users,n=t.user,c=this.state.isSignupModalOpened;return n?r.a.createElement(S.a,{to:"/apps"}):r.a.createElement("div",{className:A.a.Login},r.a.createElement(P,{className:A.a.Logo}),r.a.createElement("h1",{className:A.a.title},"Qui est-ce ?"),r.a.createElement("div",{className:A.a.users},a.map(function(t){return r.a.createElement("div",{to:"/apps",key:t.username,className:A.a.user,onClick:function(){return e.handleSignIn(t)}},r.a.createElement(X,t),r.a.createElement("h2",null,t.username))}),r.a.createElement(L,{className:A.a.PlusSquare,onClick:this.handleClickNewUser})),r.a.createElement(q,{className:A.a.Background}),c&&r.a.createElement(ce,{onSignup:this.handleSignup,onClose:this.handleClickNewUser}))}}]),t}(n.Component),le=Object(o.b)(function(e){return{user:e.masq.currentUser,users:e.masq.users}},function(e){return{signin:function(t){return e(k(t))},signup:function(t){return e(function(e){return function(t){return j.addProfile(e).then(function(){return t(function(e){return{type:"ADD_USER",user:e}}(e))})}}(t))},fetchUsers:function(t){return e(function(e){return j.getProfiles().then(function(t){return e(function(e){return{type:"RECEIVE_USERS",users:e}}(t))})})}}})(ue),pe=a(57),he=a.n(pe),fe=function(e){function t(){return Object(v.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;e&&this.props.fetchApps(e.id)}},{key:"render",value:function(){var e=this.props,t=e.apps;return e.user?!!t&&r.a.createElement("div",{className:he.a.Apps},r.a.createElement("p",{className:"title"},"Mes Applications"),r.a.createElement("p",{className:"subtitle"},"Retrouvez vos applications synchronis\xe9es avec Masq"),t.map(function(e,t){return r.a.createElement("div",{key:t,className:he.a.Card},r.a.createElement(K.Card,{minHeight:64,title:e.name,image:e.image,color:"#a3005c",description:e.description}))})):r.a.createElement(S.a,{to:"/"})}}]),t}(n.Component),de=Object(o.b)(function(e){return{user:e.masq.currentUser,apps:e.masq.apps}},function(e){return{fetchApps:function(t){return e(C(t))}}})(fe),me=a(95),ve=a(211),ge=a(200),be=a(20),Ee=a.n(be);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Oe=r.a.createElement("path",{d:"m37.2 0h-6.3c-.54 0-.9.36-.9.9v6.3c0 .54.36.9.9.9h6.3c.54 0 .9-.36.9-.9v-6.3c0-.54-.36-.9-.9-.9zm-.9 6.3h-4.5v-4.5h4.5zm10.8-6.3h-6.3c-.54 0-.9.36-.9.9v6.3c0 .54.36.9.9.9h6.3c.54 0 .9-.36.9-.9v-6.3c0-.54-.36-.9-.9-.9zm-.9 6.3h-4.5v-4.5h4.5zm.9 3.6h-6.3c-.54 0-.9.36-.9.9v6.3c0 .54.36.9.9.9h6.3c.54 0 .9-.36.9-.9v-6.3c0-.54-.36-.9-.9-.9zm-.9 6.3h-4.5v-4.5h4.5zm-9-6.3h-6.3c-.54 0-.9.36-.9.9v6.3c0 .54.36.9.9.9h6.3c.54 0 .9-.36.9-.9v-6.3c0-.54-.36-.9-.9-.9zm-.9 6.3h-4.5v-4.5h4.5z",transform:"translate(-30)"}),we=function(e){return r.a.createElement("svg",ye({height:18,viewBox:"0 0 18 18",width:18},e),Oe)};a.p;function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var je=r.a.createElement("path",{d:"m13 0h-10c-1.7 0-3 1.3-3 3v16c0 1.7 1.3 3 3 3h10c1.7 0 3-1.3 3-3v-16c0-1.7-1.3-3-3-3zm1 19c0 .6-.4 1-1 1h-10c-.6 0-1-.4-1-1v-16c0-.6.4-1 1-1h10c.6 0 1 .4 1 1zm-6-1c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z",transform:""}),ke=function(e){return r.a.createElement("svg",_e({height:22,viewBox:"0 0 16 22",width:16},e),je)};a.p;function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var xe=r.a.createElement("path",{d:"m12 8c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm8.3 1.4c.1-.2.3-.4.7-.4 1.7 0 3-1.3 3-3s-1.3-3-3-3h-.2c-.2 0-.4-.1-.5-.3 0-.1 0-.1-.1-.2-.1-.2-.1-.5.2-.8 1.2-1.2 1.2-3.1 0-4.2-.6-.6-1.3-.9-2.1-.9s-1.6.3-2.2.9c-.2.2-.5.2-.7.1-.2 0-.4-.3-.4-.6 0-1.7-1.3-3-3-3s-3 1.3-3 3v.2c0 .2-.1.4-.3.5-.1 0-.1 0-.2.1-.2.1-.5 0-.8-.2-1.2-1.2-3.1-1.2-4.2 0-1.2 1.2-1.2 3.1.1 4.3.2.2.2.5.1.8-.1.2-.4.4-.7.4-1.7 0-3 1.3-3 3s1.3 3 3 3h.2c.3 0 .5.2.6.4s.1.5-.2.8c-.6.6-.9 1.3-.9 2.1s.3 1.5.9 2.1c1.2 1.2 3.1 1.2 4.3-.1.2-.2.5-.2.8-.1s.4.3.4.7c0 1.7 1.3 3 3 3s3-1.3 3-3v-.2c0-.3.2-.5.4-.6s.5-.1.8.2c1.2 1.2 3.1 1.2 4.2 0 1.2-1.2 1.2-3.1-.1-4.3-.1-.2-.2-.5-.1-.7zm-1.8-.8c-.4 1-.2 2.1.6 3 .2.2.3.4.3.7s-.1.5-.3.7-.4.3-.7.3c-.3 0-.5-.1-.8-.4-.8-.8-1.9-1-2.9-.5-1 .4-1.6 1.4-1.6 2.4v.2c0 .6-.4 1-1 1s-1-.4-1-1v-.1c0-1.1-.7-2-1.7-2.4-.3-.2-.7-.2-1.1-.2-.7 0-1.4.3-1.9.8-.4.4-1 .4-1.4 0-.2-.2-.3-.4-.3-.7s.1-.5.4-.8c.8-.8 1-1.9.5-2.9-.4-1-1.4-1.6-2.4-1.6h-.2c-.6 0-1-.4-1-1s.4-1 1-1h.1c1.1 0 2-.7 2.4-1.7s.2-2.1-.6-3c-.4-.4-.4-1 0-1.4s1-.4 1.5.1c.7.7 1.8.9 2.7.6.1 0 .2 0 .3-.1 1-.4 1.6-1.4 1.6-2.4v-.2c0-.6.4-1 1-1s1 .4 1 1.1c0 1.1.6 2 1.6 2.4s2.1.2 3-.6c.2-.2.4-.3.7-.3s.5.1.7.3c.4.4.4 1-.1 1.5-.7.7-.9 1.8-.6 2.7 0 .1 0 .2.1.3.4 1 1.4 1.6 2.4 1.6h.2c.6 0 1 .4 1 1s-.4 1-1.1 1c-1 0-2 .6-2.4 1.6z",transform:""}),Se=function(e){return r.a.createElement("svg",Ce({height:24,viewBox:"0 0 24 24",width:24},e),xe)};a.p;function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ae=r.a.createElement("path",{d:"m9.01126408 21c0 .6-.40050063 1-1.00125156 1h-5.00625783c-1.70212766 0-3.00375469-1.3-3.00375469-3v-16c0-1.7 1.30162703-3 3.00375469-3h5.00625783c.60075093 0 1.00125156.4 1.00125156 1s-.40050063 1-1.00125156 1h-5.00625783c-.60075094 0-1.00125156.4-1.00125156 1v16c0 .6.40050062 1 1.00125156 1h5.00625783c.60075093 0 1.00125156.4 1.00125156 1zm10.91364202-9.6c.1001252-.2.1001252-.5 0-.8-.1001251-.1-.1001251-.2-.2002503-.3l-4.0050062-4c-.4005007-.4-1.0012516-.4-1.4017522 0-.4005007.4-.4005007 1 0 1.4l2.3028786 2.3h-9.61201505c-.60075094 0-1.00125156.4-1.00125156 1s.40050062 1 1.00125156 1h9.61201505l-2.3028786 2.3c-.4005007.4-.4005007 1 0 1.4.2002503.2.5006258.3.7008761.3s.5006257-.1.7008761-.3l4.0050062-4c.1001252-.1.2002503-.2.2002503-.3z"}),Ue=function(e){return r.a.createElement("svg",Ne({height:22,viewBox:"0 0 20 22",width:20},e),Ae)},ze=(a.p,Object(o.b)(function(e){return{user:e.masq.currentUser}},function(e){return{signout:function(t){return e({type:"SIGNOUT"})}}})(function(e){var t=e.user,a=e.signout;Object(me.a)(e,["user","signout"]);return t?r.a.createElement(K.Sidebar,null,r.a.createElement("div",{className:Ee.a.header},r.a.createElement(X,Object.assign({},t,{size:64})),r.a.createElement("h2",null,t.username)),r.a.createElement("div",{className:Ee.a.nav},r.a.createElement(ve.a,{to:"/apps",className:Ee.a.navElement,activeClassName:Ee.a.active},r.a.createElement(we,{fill:"white",opacity:.8,width:24}),r.a.createElement("p",{className:"label"},"Applications")),r.a.createElement(ve.a,{to:"/devices",className:Ee.a.navElement,activeClassName:Ee.a.active},r.a.createElement(ke,{fill:"white",opacity:.8,width:24}),r.a.createElement("p",{className:"label"},"Appareils")),r.a.createElement(ve.a,{to:"/settings",className:Ee.a.navElement,activeClassName:Ee.a.active},r.a.createElement(Se,{fill:"white",opacity:.8,width:24}),r.a.createElement("p",{className:"label"},"Param\xe8tres"))),r.a.createElement("div",{className:Ee.a.logout,onClick:a},r.a.createElement(ge.a,{to:"/",className:Ee.a.navElement},r.a.createElement(Ue,{fill:"white",opacity:.8,width:24}),r.a.createElement("p",{className:"label"},"D\xe9connexion")))):r.a.createElement(S.a,{to:"/"})})),Pe=a(34),De=a.n(Pe),Re=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={image:"",lastname:"",firstname:"",username:""},a.hasChanged=!1,a.validate=a.validate.bind(Object(O.a)(Object(O.a)(a))),a.isValid=a.isValid.bind(Object(O.a)(Object(O.a)(a))),a.handleKeyUp=a.handleKeyUp.bind(Object(O.a)(Object(O.a)(a))),a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;e&&this.setState({image:e.image,lastname:e.lastname,firstname:e.firstname,username:e.username})}},{key:"isValid",value:function(e){return"image"===e||this.state[e].length>0}},{key:"onChange",value:function(e,t){var a=t.target.value.trim();this.hasChanged=!0,this.setState(Object(ae.a)({},e,a))}},{key:"onImageChange",value:function(e){var t=this,a=new window.FileReader,n=e.target.files[0];n&&(a.addEventListener("load",function(){t.hasChanged=!0,t.setState({image:a.result})}),a.readAsDataURL(n))}},{key:"validate",value:function(){var e=this;if(this.hasChanged){if(!Object.keys(this.state).every(function(t){return e.isValid(t)}))return this.forceUpdate();this.props.updateUser(this.props.user.id,this.state),this.hasChanged=!1}}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.validate()}},{key:"render",value:function(){var e=this;return this.props.user?r.a.createElement("div",{className:De.a.Settings},r.a.createElement("div",null,r.a.createElement("div",{className:De.a.titleContainer},r.a.createElement("p",{className:"title"},"Vos param\xe8tres d'utilisateur"),r.a.createElement("p",{className:"subtitle"},"Changez vos informations personnelles")),r.a.createElement("div",{className:De.a.profile},r.a.createElement(X,{upload:!0,size:192,image:this.state.image,onChange:function(t){return e.onImageChange(t)}}),r.a.createElement("div",{className:De.a.inputs},r.a.createElement(K.TextField,{label:"Nom",error:!this.isValid("lastname"),onKeyUp:this.handleKeyUp,defaultValue:this.state.lastname,onChange:function(t){return e.onChange("lastname",t)}}),r.a.createElement(K.TextField,{label:"Pr\xe9nom",error:!this.isValid("firstname"),onKeyUp:this.handleKeyUp,defaultValue:this.state.firstname,onChange:function(t){return e.onChange("firstname",t)}}),r.a.createElement(K.TextField,{label:"Pseudo (affich\xe9)",error:!this.isValid("username"),onKeyUp:this.handleKeyUp,defaultValue:this.state.username,onChange:function(t){return e.onChange("username",t)}})))),r.a.createElement("div",{className:De.a.sidebar},r.a.createElement(K.Button,{width:200,secondary:!this.hasChanged,label:"SAUVEGARDER",onClick:this.validate}))):r.a.createElement(S.a,{to:"/"})}}]),t}(r.a.Component),Me=Object(o.b)(function(e){return{user:e.masq.currentUser}},function(e){return{updateUser:function(t,a){return e(function(e,t){return t.id=e,function(e){return j.updateProfile(t).then(function(){return e(k(t))})}}(t,a))}}})(Re),Ve=a(58),Ie=a.n(Ve),qe=[{path:"/apps",sidebar:ze,main:de},{path:"/devices",sidebar:ze,main:Object(o.b)(function(e){return{user:e.masq.currentUser,devices:e.masq.devices}})(function(e){var t=e.user,a=e.devices;return t?r.a.createElement("div",{className:Ie.a.Devices},r.a.createElement("p",{className:"title"},"Mes Appareils"),r.a.createElement("p",{className:"subtitle"},"Retrouvez la liste de vos appareils connect\xe9s \xe0 Masq"),a.map(function(e,t){return r.a.createElement("div",{key:t,className:Ie.a.Card},r.a.createElement(K.Card,{minHeight:64,title:e.name,color:e.color,description:e.description}))})):r.a.createElement(S.a,{to:"/"})})},{path:"/settings",sidebar:ze,main:Me}],Fe=function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(b.a)(this,Object(E.a)(t).call(this))).dbMasqPrivate=null,e.dbMasqPublic=null,e.dbs={},e.sw=null,e.state={apps:[],user:"",messages:[],hash:null},e.handleInput=e.handleInput.bind(Object(O.a)(Object(O.a)(e))),e}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,n,r,c,i,s,o,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.devices.length||(t=a(203).detect(),n=t.name,r=t.os,this.props.addDevice({name:"".concat(n," sur ").concat(r),description:"Cet appareil",color:"#40ae6c"})),c=new URL(window.location.href),i=c.searchParams.get("channel"),s=c.searchParams.get("challenge"),o=c.searchParams.get("appName"),u=c.searchParams.get("profileID"),i&&s&&!o&&this.props.syncProfiles(i,s),i&&s&&o&&u&&this.props.createApp(i,s,o,u);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"appendMessage",value:function(e){this.setState({messages:Object(u.a)(this.state.messages).concat([e])})}},{key:"handleInput",value:function(e){this.setState({input:e.target.value})}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement("div",null,r.a.createElement(_.a,{exact:!0,path:"/",component:le}),r.a.createElement("div",{style:{display:"flex"}},qe.map(function(e,t){return r.a.createElement(_.a,{key:t,path:e.path,component:e.sidebar})}),qe.map(function(e,t){return r.a.createElement(_.a,{key:t,path:e.path,component:e.main})}))))}}]),t}(n.Component),Te=Object(o.b)(function(e){return{currentUser:e.masq.currentUser,devices:e.masq.devices,users:e.masq.users}},function(e){return{addDevice:function(t,a){return e(function(e){return{type:"ADD_DEVICE",device:e}}(t))},syncProfiles:function(t,a){return e(function(e,t){return function(a){return j.syncProfiles(e,t,function(){console.log("okok sync")})}}(t,a))},createApp:function(t,a,n,r){return e(x(t,a,n,r))}}})(Fe),Be=(a(204),a(207),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d),Le=Object(i.e)(h,Be(Object(i.a)(s.a)));Object(c.render)(r.a.createElement(o.a,{store:Le},r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},27:function(e,t,a){e.exports={Login:"Login_Login__wfqrh",title:"Login_title__3eXjA",Logo:"Login_Logo__2J8VH",users:"Login_users__HBP7A",PlusSquare:"Login_PlusSquare__2_U-f",user:"Login_user__cxBIE",Background:"Login_Background__1QUKU"}},29:function(e,t,a){e.exports={AuthApp:"AuthApp_AuthApp__2znKd",title:"AuthApp_title__3fm6b",appTitle:"AuthApp_appTitle__1hdWP",description:"AuthApp_description__iwDDs",buttons:"AuthApp_buttons__2kMVu"}},34:function(e,t,a){e.exports={Settings:"Settings_Settings__2bGKW",titleContainer:"Settings_titleContainer__Q_pGq",profile:"Settings_profile__1Xw8B",inputs:"Settings_inputs__1NjVV",fields:"Settings_fields__3aGf-",TextInput:"Settings_TextInput__4_v0n","button-container":"Settings_button-container__2o5Y6",parameters:"Settings_parameters__3pUx0",sidebar:"Settings_sidebar__1TH_C",appSettings:"Settings_appSettings__2fdbG",buttons:"Settings_buttons__27ct6",exportButton:"Settings_exportButton__3VNoZ"}},57:function(e,t,a){e.exports={Apps:"Apps_Apps__2G1xS",Card:"Apps_Card__1FgkF"}},58:function(e,t,a){e.exports={Devices:"Devices_Devices__3xseY",Card:"Devices_Card__2NXMk"}},60:function(e,t,a){"use strict";(function(e){var n=a(23),r=a(3),c=a.n(r),i=a(13),s=a(10),o=a(11),u=a(92),l=a.n(u),p=a(47),h=a.n(p),f=a(93),d=a.n(f),m=a(48),v=a.n(m),g=a(94),b=a.n(g),E=a(56),y=a.n(E),O=a(17),w=a.n(O),_=["wss://signalhub-jvunerwwrg.now.sh"],j=function(e){return d()(l()(e),{valueEncoding:"json",firstNode:!0})},k=function(e){var t=e.discoveryKey.toString("hex"),a=h()(t,_);v()(a).on("peer",function(t){var a=e.replicate({live:!0});b()(t,a,t)})},C=function(e){return new Promise(function(t){return e.on("ready",function(){return t()})})},x=function(){function t(){Object(s.a)(this,t),this.dbs={core:null,profiles:null}}return Object(o.a)(t,[{key:"init",value:function(){var e=Object(i.a)(c.a.mark(function e(){var t,a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.dbs.core=j("masq-core"),this.dbs.profiles=j("masq-profiles"),Object.values(this.dbs).forEach(function(e){return e.on("ready",function(){return k(e)})}),e.next=5,this.getProfiles();case 5:t=e.sent,t.map(function(e){return e.id}).forEach(function(){var e=Object(i.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getApps(t);case 2:e.sent.forEach(function(e){var n=t+"-"+e.name,r=j(n);a.dbs[n]=r,r.on("ready",function(){return k(r)})});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addProfile",value:function(){var e=Object(i.a)(c.a.mark(function e(t){var a,r,i,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(this.dbs.core,"/profiles");case 2:return a=e.sent,r=a?a.value:[],i=y()(),t.id=i,s=[{type:"put",key:"/profiles",value:Object(n.a)(r).concat([i])},{type:"put",key:"/profiles/".concat(i),value:t}],e.next=9,w.a.batch(this.dbs.core,s);case 9:return e.next=11,w.a.batch(this.dbs.profiles,s);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getProfiles",value:function(){var e=Object(i.a)(c.a.mark(function e(){var t,a,n,r,i,s=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(this.dbs.core,"/profiles");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return a=t.value,n=a.map(function(e){return w.a.get(s.dbs.core,"/profiles/".concat(e))}),e.next=9,Promise.all(n);case 9:return r=e.sent,i=r.map(function(e){return e.value}),e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var e=Object(i.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id){e.next=3;break}throw Error("Missing id");case 3:return e.next=5,w.a.put(this.dbs.core,"/profile/".concat(a),t);case 5:return e.next=7,w.a.put(this.dbs.profiles,"/profiles/".concat(a),t);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addApp",value:function(e,t){return this._createResource(e,"apps",t)}},{key:"addDevice",value:function(e,t){return this._createResource(e,"devices",t)}},{key:"getApps",value:function(e){return this._getResources(e,"apps")}},{key:"getDevices",value:function(e){return this._getResources(e,"devices")}},{key:"updateApp",value:function(e,t){return this._updateResource(e,"apps",t)}},{key:"updateDevice",value:function(){var e=Object(i.a)(c.a.mark(function e(t,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._updateResource(t,"devices",a);case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"syncProfiles",value:function(){var e=Object(i.a)(c.a.mark(function e(t,a){var n,r,i=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(this.dbs.profiles);case 2:n=h()(t,_),(r=v()(n)).on("close",function(){return n.close()}),r.on("peer",function(e){e.on("data",function(e){r.close()}),e.send(JSON.stringify({msg:"sendProfilesKey",challenge:a,key:i.dbs.profiles.key.toString("hex")}))});case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"createApp",value:function(t,a,n,r){var s=this;return new Promise(function(){var o=Object(i.a)(c.a.mark(function o(u,l){var p,f,d;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return p=r+"-"+n,o.next=3,s.getApps(r);case 3:if(!o.sent.find(function(e){return e.name===e})){o.next=6;break}return o.abrupt("return",u());case 6:f=h()(t,_),(d=v()(f)).on("close",function(){return f.close()}),d.on("peer",function(){var t=Object(i.a)(c.a.mark(function t(n){var o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,n.on("data",function(){var t=Object(i.a)(c.a.mark(function t(a){var i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("appInfo"!==(i=JSON.parse(a)).msg){t.next=4;break}return t.next=4,s.addApp(r,{name:i.name,description:i.description,image:i.image});case 4:"requestWriteAccess"===i.msg&&o.authorize(e.from(i.key,"hex"),function(e){if(e)throw e;n.send(JSON.stringify({msg:"ready"})),d.close(),u()});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),o=j(p),s.dbs[p]=o,o.on("ready",function(){n.send(JSON.stringify({msg:"sendDataKey",challenge:a,key:o.key.toString("hex")}))});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 10:case"end":return o.stop()}},o,this)}));return function(e,t){return o.apply(this,arguments)}}())}},{key:"_createResource",value:function(){var e=Object(i.a)(c.a.mark(function e(t,a,r){var i,s,o,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("missing profileId");case 2:return e.next=4,w.a.get(this.dbs.core,"/profiles/".concat(t,"/").concat(a));case 4:return i=e.sent,s=i?i.value:[],o=y()(),r.id=o,u=[{type:"put",key:"/profiles/".concat(t,"/").concat(a),value:Object(n.a)(s).concat([o])},{type:"put",key:"/profiles/".concat(t,"/").concat(a,"/").concat(o),value:r}],e.next=11,w.a.batch(this.dbs.core,u);case 11:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"_getResources",value:function(){var e=Object(i.a)(c.a.mark(function e(t,a){var n,r,i,s,o,u=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("missing profileId");case 2:return e.next=4,w.a.get(this.dbs.core,"/profiles/".concat(t,"/").concat(a));case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.value,i=r.map(function(e){return w.a.get(u.dbs.core,"/profiles/".concat(t,"/").concat(a,"/").concat(e))}),e.next=11,Promise.all(i);case 11:return s=e.sent,o=s.map(function(e){return e.value}),e.abrupt("return",o);case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"_updateResource",value:function(){var e=Object(i.a)(c.a.mark(function e(t,a,n){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("missing profileId");case 2:if(r=n.id){e.next=5;break}throw Error("Missing id");case 5:return e.abrupt("return",w.a.put(this.dbs.core,"/profiles/".concat(t,"/").concat(a,"/").concat(r),n));case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),t}();t.a=x}).call(this,a(4).Buffer)},96:function(e,t,a){e.exports=a(209)}},[[96,2,1]]]);
//# sourceMappingURL=main.f0cfbbab.chunk.js.map